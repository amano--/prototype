### 要求

- コードとクラスモデル図の同期を取れるオープンソースのモデル図作成ツールが欲しい。

- モデルの配置や、メモの追加等の変更したあとコードと同期を取っても、配置やメモが維持されてほしい。

- 注目させたいクラスと関連の深さ、フィルターを DSL 等で指定すると、適切に抽出されたモデル図が生成される

  - 既存ツールだと全コードを対象にしたりするのでめちゃでかい図や、標準クラスとかノイズなクラスとの大量の関連がでがち

- TypeScript の型(Union 型等)に対応している。

- 神クラスをリファクタリングする際に必要な補助資料の作成

- OSS 等のコードリーディング補助
  中心と思われるクラスを類推し、関連を並べて見ることで理解を深める

  - OSS 等のクラス図ベースの説明資料の補助資料作成

### 実現できたら良い機能

- モデル図、ソースコードのバージョン履歴等の比較から、リファクタリング前後の状態を比較できるモデル図が作成できる

### 設定 DSL イメージ

```ts
// id,label を設定。 id はファイル名、ラベルはリンク等に使用
file('summary','設計概要'){
  // 配置は 3x3 の 9マス位を想定
  sheet('main_summary','主要クラス概要'){
    // 関連を追う深さ(depth)等 の デフォルト値を上書きしたかったら下記のように設定する
    center(Center,{depth:2})
  }

  sheet('around_top','Topクラス概要'){
    center(Top)
    right(TopRight)
    left(TopLeft)
    bottom(Center)
    // top()
    // topLeft()
    // topRight()
    // ...
  }
}

```

summary.drawio というファイルに「主要クラス概要」「Center クラス概要」というシートができる

### 競合

- plantuml

- jig

有料

- Aster
- Enterprise Architect

### 実現手段

drawio で生成されるファイルが XML なので、なんか XML 書き換えで上記要件は満たされそうと考えた。
実装を追っていったら [ mxgraph ](https://github.com/maxGraph/maxGraph) というライブラリで、XML を生成しているっぽい。

競合

###

###

###

###

###

###

###
